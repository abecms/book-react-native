(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{137:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return c})),t.d(n,"metadata",(function(){return o})),t.d(n,"rightToc",(function(){return l})),t.d(n,"default",(function(){return u}));var r=t(1),a=t(9),i=(t(0),t(157)),c={},o={id:"dev/tips",title:"tips",description:"# Tips and tricks",source:"@site/docs/dev/tips.md",permalink:"/docs/dev/tips",sidebar:"docs",previous:{title:"dev",permalink:"/docs/dev/dev"}},l=[{value:"Renommer un projet react-native",id:"renommer-un-projet-react-native",children:[{value:"Usage",id:"usage",children:[]}]},{value:"D\xe9veloppement android",id:"d\xe9veloppement-android",children:[]},{value:"Pour compiler l&#39;app et la tester en APK",id:"pour-compiler-lapp-et-la-tester-en-apk",children:[]}],p={rightToc:l};function u(e){var n=e.components,t=Object(a.a)(e,["components"]);return Object(i.b)("wrapper",Object(r.a)({},p,t,{components:n,mdxType:"MDXLayout"}),Object(i.b)("h1",{id:"tips-and-tricks"},"Tips and tricks"),Object(i.b)("h2",{id:"renommer-un-projet-react-native"},"Renommer un projet react-native"),Object(i.b)("p",null,"Utilisez le package npm ",Object(i.b)("inlineCode",{parentName:"p"},"react-native-rename")),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"Installation en global sur le poste ",Object(i.b)("inlineCode",{parentName:"li"},"yarn global add react-native-rename")," ou ",Object(i.b)("inlineCode",{parentName:"li"},"npm install react-native-rename -g")),Object(i.b)("li",{parentName:"ul"},"Utilisation")),Object(i.b)("h3",{id:"usage"},"Usage"),Object(i.b)("p",null,"At he project root:"),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-shell"}),"react-native-rename <newName>\n")),Object(i.b)("p",null,"With custom Bundle Identifier (Android only. For iOS, please use Xcode)"),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-shell"}),"react-native-rename <newName> -b <bundleIdentifier>\n")),Object(i.b)("p",null,"Then"),Object(i.b)("p",null,"in ",Object(i.b)("inlineCode",{parentName:"p"},"iOS")," directory run ",Object(i.b)("inlineCode",{parentName:"p"},"pod install")),Object(i.b)("h2",{id:"d\xe9veloppement-android"},"D\xe9veloppement android"),Object(i.b)("p",null,"Si un soucis de communication apparait entre metro et l'application, il faut ajouter l'adresse IP du serveur dans le fichier ",Object(i.b)("inlineCode",{parentName:"p"},"android/app/src/main/res/xml/network_security_config.xml")," :"),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{}),'<network-security-config>\n    <domain-config cleartextTrafficPermitted="true">\n        ...\n        <domain includeSubdomains="true">xx.xx.xx.xx</domain>\n        ...\n    </domain-config>\n</network-security-config>\n')),Object(i.b)("p",null,"Cette configuration sp\xe9cifique au SDK Admob mediation permet au SDK de g\xe9rer le cache localement."),Object(i.b)("h2",{id:"pour-compiler-lapp-et-la-tester-en-apk"},"Pour compiler l'app et la tester en APK"),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{}),"react-native bundle --platform android --dev false --entry-file index.js --bundle-output android/app/src/main/assets/index.android.bundle --assets-dest android/app/src/main/res\n")),Object(i.b)("h1",{id:"reset-le-cache-quand-un-module-ne-sinstalle-pas-correctement"},"reset le cache quand un module ne s'installe pas correctement"),Object(i.b)("p",null,Object(i.b)("inlineCode",{parentName:"p"},"npm start -- --reset-cache")),Object(i.b)("h1",{id:"comment-g\xe9rer-les-layers-en-absolute-avec-android"},"Comment g\xe9rer les layers en absolute avec Android"),Object(i.b)("p",null,"Android ne g\xe8re pas bien les view en absolute avec des boutons touchable. Surtout si la view en dessous est une ScrollView !"),Object(i.b)("p",null,"La seule fa\xe7on de g\xe9rer \xe7a correctement est de placer le layer qui devra passer au-dessus, EN-DESSOUS de SCROLLVIEW dans le code !\napr\xe8s utiliser le zIndex pour le placer correctement."),Object(i.b)("h1",{id:"comment-g\xe9rer-un-back-depuis-un-\xe9cran-dun-stack-vers-un-autre-\xe9cran-de-stack"},"Comment g\xe9rer un back depuis un \xe9cran d'un stack vers un autre \xe9cran de stack"),Object(i.b)("p",null,"La solution : Lorsque l'\xe9cran initial appelle l'\xe9cran plac\xe9 dans un autre stack, passer une variable indiquant de quelle route on vient.\nDepuis l'\xe9cran pour faire un goBack, il suffit alors de faire :"),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{}),"onPress={() =>\n  navigation.getParam('search')\n    ? navigation.popToTop() && navigation.navigate('recherche')\n    : navigation.goBack()\n}\n")),Object(i.b)("p",null,"L'astuce ici est de faire un popToTop() qui ram\xe8ne \xe0 la racine du stack puis d'aller \xe0 l'\xe9cran d'origine."))}u.isMDXComponent=!0},157:function(e,n,t){"use strict";t.d(n,"a",(function(){return s})),t.d(n,"b",(function(){return m}));var r=t(0),a=t.n(r);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function c(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?c(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var p=a.a.createContext({}),u=function(e){var n=a.a.useContext(p),t=n;return e&&(t="function"==typeof e?e(n):o({},n,{},e)),t},s=function(e){var n=u(e.components);return a.a.createElement(p.Provider,{value:n},e.children)},d={inlineCode:"code",wrapper:function(e){var n=e.children;return a.a.createElement(a.a.Fragment,{},n)}},b=Object(r.forwardRef)((function(e,n){var t=e.components,r=e.mdxType,i=e.originalType,c=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),s=u(t),b=r,m=s["".concat(c,".").concat(b)]||s[b]||d[b]||i;return t?a.a.createElement(m,o({ref:n},p,{components:t})):a.a.createElement(m,o({ref:n},p))}));function m(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var i=t.length,c=new Array(i);c[0]=b;var o={};for(var l in n)hasOwnProperty.call(n,l)&&(o[l]=n[l]);o.originalType=e,o.mdxType="string"==typeof e?e:r,c[1]=o;for(var p=2;p<i;p++)c[p]=t[p];return a.a.createElement.apply(null,c)}return a.a.createElement.apply(null,t)}b.displayName="MDXCreateElement"}}]);